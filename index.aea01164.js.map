{"mappings":"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","sources":["src/js/customFunction/index.js","src/js/customFunction/currentLinkOperation.js","src/js/customFunction/dropdown.js","src/index.js"],"sourcesContent":["export * from './currentLinkOperation';\nexport * from './dropdown';\n","const links = document.querySelectorAll('.header-nav__link');\n\nfunction setCurrentLink() {\n  const currentPage = window.location.pathname.split('/').pop();\n  //const links = document.querySelectorAll('.header-nav__link');\n\n  links.forEach(link => {\n    if (link.getAttribute('href').split('/').pop() === currentPage) {\n      link.classList.add('current-link');\n    } else {\n      link.classList.remove('current-link');\n    }\n  });\n}\nexport function currentLinkOperation() {\n  document.addEventListener('DOMContentLoaded', onCurrentLinkOperation);\n}\n\nfunction onCurrentLinkOperation() {\n  setCurrentLink();\n\n  //const links = document.querySelectorAll('.header-nav__link');\n  links.forEach(link => {\n    link.addEventListener('click', function (event) {\n      const href = link.getAttribute('href');\n      const lastPathSegment = href.split('/').pop();\n      console.log('lastPathSegment', lastPathSegment);\n      console.log('window.location.hash', window.location.hash);\n      console.log('hash', window.location.hash);\n\n      if (\n        lastPathSegment === window.location.pathname.split('/').pop() &&\n        !window.location.hash\n      ) {\n        event.preventDefault();\n      }\n    });\n  });\n}\n","// import { $, jQuery } from 'jquery';\nimport { setOutput } from '../../../src/index.js';\n('use strict');\nconst countries = [\n  'Italy',\n  'Germany',\n  'Egypt',\n  'Greece',\n  'Sweden',\n  'Poland',\n  'Slovakia',\n  'Finland',\n  'Thailand',\n  'Philippines',\n  'Cuba',\n  'Mexico',\n  'Spain',\n  'Austria',\n];\nconst sortedCountries = [...countries].sort((a, b) => a.localeCompare(b));\n\nconst dpd = document.querySelector('.dpd-select');\n\nexport function dpdOperation() {\n  $('#country').selectmenu().selectmenu('menuWidget').addClass('overflow');\n  $('.dpd-select').selectmenu({\n    width: 240,\n  });\n  renderMenu(dpd, sortedCountries);\n  const dpdButton = document.querySelector('.ui-selectmenu-text');\n  dpdButton.textContent = 'Choose the country';\n}\n\nfunction renderMenu(el, arr) {\n  const markup = arr\n    .map(item => `<option value=${item}>${item} </option>`)\n    .join('');\n\n  el.insertAdjacentHTML('beforeend', markup);\n}\n\n//---------------------- change\n\nexport function dpdControl() {\n  // dpd.addEventListener('change', setOutput);\n  $('.dpd-select').selectmenu({\n    change: function (event, data) {\n      setOutput(event, data);\n    },\n  });\n  // $('.dpd-select').selectmenu('refresh');\n}\n","'use strict';\nimport { articles } from './js/fakeData';\n\n//------------------------\nimport axios from 'axios';\n\nimport { currentLinkOperation } from './js/customFunction';\nimport { dpdOperation, dpdControl } from './js/customFunction';\n\n//-----------------\nconst basePath = '/wbs-project-blog/';\nconst BACKENDURL = 'https://posts.free.beeceptor.com/posts';\nconst contentList = document.querySelector('.content-list');\n\nif (\n  window.location.pathname === '/' ||\n  window.location.pathname === `${basePath}`\n) {\n  //window.location.href = `${basePath}index.html`;\n  // console.log('window.location.href', window.location.href);\n  // console.log('window.location.pathname', window.location.pathname);\n  // console.log(`${window.location.pathname}index.html`);\n  // console.log(`${window.location.href}index.html`);\n  window.location.href = `${window.location.href}index.html`;\n}\n// if (window.location.pathname.endsWith('/')) {\n//   // Перенаправить на главную страницу без \"index.html\" в URL\n//   window.location.href = window.location.href.replace('/', '/index.html');\n// }\n//-------------------\n\n//---------------\ncurrentLinkOperation();\ndpdOperation();\ndpdControl();\nfunction setOutput(event, data) {\n  const selectedOptionValue = data.item.value;\n}\n//contentControl(); //надо сделать export/import ВЕРНУТЬ ДЛЯ ФЕТЧ!!!!!\n//-------\n//--------\nfunction contentControl() {\n  // console.log('in contentControl');\n  fetchArticles()\n    .then(response => {\n      renderArticlesList(response.data);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\nasync function fetchArticles() {\n  // console.log('in fetchArticles');\n  const response = await axios(`${BACKENDURL}`);\n  return response;\n}\n\nfunction renderArticlesList(articles) {\n  let contentMarkup;\n  if (articles.length > 0) {\n    console.log('articles in render', articles);\n    contentMarkup = articles\n      .map(\n        article =>\n          `<li class=\"content-list__item\"> <article class=\"article__wrapper\">\n        <h2 class=\"article__title\">${article.title}</h2>\n        <p class=\"article__date\">${article.date}</p>\n        <div class=\"article__internal\">\n          <img class=\"article__img\" src=${article.url} alt=${article.title}/>\n          <div class=\"article__text\">\n            <p>${article.article}</p> </div>\n        </div>\n      </article>\n      <a class=\"content-list__link\" data-post=\"${article.id}\"\n        href=\"\">Read more...</a>\n        <p class=\"content-list__comments\">\n       <span class=\"text-dashed\"><span class=\"comments-quantity\">${article.comments.length}</span>&nbsp;comments</span>\n      </p>\n    </li>`\n      )\n      .join('');\n  } else {\n    contentMarkup = `<li class=\"content-list__item\"><p style=\"text-align:center\">UPS... Nothing found!</p></li>`;\n  }\n\n  contentList.insertAdjacentHTML('beforeend', contentMarkup);\n  // const readMoreLinks = document.querySelectorAll('.content-list__link');\n  //readMoreLinkOperation(readMoreLinks);\n}\n//----------------read more\nfunction readMoreLinkOperation() {\n  contentList.addEventListener('click', onClickReadMoreLink);\n}\n\n// function readMoreLinkOperation(readMoreLinks) { Work!!!! back or not?\n//   readMoreLinks.forEach(link => {\n//     link.addEventListener('click', onClickReadMoreLink);\n//   });\n// }\n\nfunction onClickReadMoreLink(e) {\n  e.preventDefault();\n\n  // fetchArticle(e.target.dataset.post);//ЭТО НАДО ДЛЯ ФЕТЧ!!!!! ТОЛЬКО НАДО ПЕРЕЙТИ НА АРТИКЛ ДЖС\n  // console.log('target', e.target.dataset.post);\n  // console.log('href', `./article-page.html?post=${e.target.dataset.post}`);\n  window.location.href = `./article-page.html?post=${e.target.dataset.post}`;\n}\n//./article-page.html/${article.id}\n\nrenderArticlesList(articles); //УБРАТЬ ДЛЯ ФЕТЧ!!!!!!\n//поменять ссылку на кнопку readmore\nreadMoreLinkOperation(); //????????????\n//-----------------aside--------\n//---------------- topic -----\nconst topicLict = document.querySelector('.topics-list');\n\nfunction onTopicClick(e) {\n  //e.preventDefault();\n\n  const targetTag = e.target.textContent;\n\n  const tagPosts = articles.filter(article => {\n    return article.tags.includes(targetTag);\n  });\n\n  contentList.innerHTML = '';\n  // $('.dpd-select').selectmenu('refresh');\n  renderArticlesList(tagPosts);\n}\nfunction topicsControl() {\n  topicLict.addEventListener('click', onTopicClick);\n}\ntopicsControl();\n//------------------dpd contries\n// export function setOutput(event, data) {\n//   console.log('data.item.value', data.item.value);\n//   const selectedOptionValue = data.item.value;\n// }\n// export function xxx(data) {\n//   console.log(data);\n// }\nexport function setOutput(event, data) {\n  const selectedOptionValue = data.item.value;\n\n  const countryChoicePosts = articles.filter(article => {\n    return article.country.includes(selectedOptionValue);\n  });\n\n  contentList.innerHTML = '';\n  window.location.href = `./index.html#${selectedOptionValue.toLowerCase()}`;\n  renderArticlesList(countryChoicePosts);\n}\n"],"names":["parcelRequire","$cac16397e49d5ef8$var$links","document","querySelectorAll","$cac16397e49d5ef8$export$f5493e4e8fdac886","addEventListener","$cac16397e49d5ef8$var$onCurrentLinkOperation","currentPage","window","location","pathname","split","pop","forEach","link","getAttribute","classList","add","remove","event","lastPathSegment","console","log","hash","preventDefault","$8nrFW","$a58a129d97d6db13$var$sortedCountries","$parcel$interopDefault","sort","a","b","localeCompare","$a58a129d97d6db13$var$dpd","querySelector","$a58a129d97d6db13$export$73580dbe8c095143","el","markup","$","selectmenu","addClass","width","map","item","concat","join","insertAdjacentHTML","textContent","$a58a129d97d6db13$export$5fa1661ccb6b0492","change","data","$fSCrk","setOutput","$b8f9b7833fa37166$var$contentList","$b8f9b7833fa37166$export$254f444396e1a2ca","value","$b8f9b7833fa37166$var$renderArticlesList","articles1","contentMarkup","length","article","title","date","url","id","comments","$b8f9b7833fa37166$var$onClickReadMoreLink","e","href","target","dataset","post","$b8f9b7833fa37166$var$onTopicClick","targetTag","tagPosts","$fMuQU","articles","filter","tags","includes","innerHTML","selectedOptionValue","countryChoicePosts","country","toLowerCase","$hpggz","currentLinkOperation","$eda2W","dpdOperation","dpdControl"],"version":3,"file":"index.aea01164.js.map"}