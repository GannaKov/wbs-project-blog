{"mappings":"gfAAAA,EAAA,S,WAAA,I,aAIMC,G,WAAaC,SAASC,cAAc,wBACpCC,EAAmBF,SAASC,cAAc,4BAC1CE,EAAeH,SAASC,cAAc,kBAiH5C,SAASG,EAAcC,GACrB,IAAMC,EAAcD,EAChB,8BACuBE,OADOF,EAAKG,MAAM,sCAGTD,OAFTF,EAAKI,KAAK,iFAI1BF,OAFyBF,EAAKK,IAAI,mEAErBH,OAAbF,EAAKM,QAAQ,iDAInB,kVAOL,GADAZ,EAAWa,UAAYN,EACnBD,EAAKQ,SAAU,CACjB,IAAMC,EAAyB,4GAC+BP,OAArBF,EAAKQ,SAASE,OAAO,oCAC9Db,EAAiBU,UAAYE,EAE7B,IAAME,EAAqBX,EAAKQ,SAC7BI,KACC,SAAAC,G,MACE,0DAEiBX,OADEW,EAAQC,OAAO,mCAEZZ,OADLW,EAAQT,KAAK,wCACKF,OAAbW,EAAQE,KAAK,6B,IAGtCC,KAAK,IAERlB,EAAaS,UAAYI,C,GA/D7B,SAA4BM,EAAMZ,GAC3BA,IAAKA,EAAMa,OAAOC,SAASC,MAIhC,IACEC,EADY,IAAIC,OAAO,OAASL,EAAO,qBACvBM,KAAKlB,GAElBgB,GACAA,EAAQ,IAENG,mBAAmBH,EAAQ,GAAGI,QAAO,MAAQ,K,CAhBrCC,CAAmB,QAGpB3B,EAAA4B,EAAAC,U","sources":["src/article-page.js"],"sourcesContent":["'use strict';\nimport { article_1 } from './js/fakeData';\nimport axios from 'axios';\nconst BASEURL = 'https://posts.free.beeceptor.com/posts';\nconst oneArticle = document.querySelector('.oneArticle-article');\nconst commentsQuantity = document.querySelector('.comments-quantity-style');\nconst commentsList = document.querySelector('.comments-list');\n\n//function getParameterByName(name, url) {\n//  if (!url) url = window.location.href;\n\n//   //   name = name.replace(/[[\\]]/g, '\\\\$&');\n\n//  const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n//     results = regex.exec(url);\n\n//   if (!results) return null;\n//   if (!results[2]) return '';\n\n//   return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n// }\n\n//ниже было и раньше коммент\n// document.addEventListener('DOMContentLoaded', function () {\n//   const postId = getParameterByName('post');\n//   if (postId) {\n//     fetchArticle(postId);\n//   }\n// });\n// до сюда\n\n// const postId = getParameterByName('post');\n// if (postId) {\n//   fetchArticle(postId);\n// }\n\n// async function fetchData(postId) {\n//   const response = await axios(`${BASEURL}/${postId}`);\n\n//   return response;\n// }\n// function fetchArticle(postId) {\n//   fetchData(postId)\n//     .then(response => {\n//       articleMarkup(response.data);\n//     })\n//     .catch(error => {\n//       articleMarkup(undefined);\n//       console.log(error);\n//     });\n// }\n// function articleMarkup(post) {\n//   const basicMarkup = post\n//     ? `<h1 class=\"article__title\">${post.title}</h1>\n//   <p class=\"article__date\">${post.date}</p>\n//   <div class=\"article__internal\">\n//    <img class=\"oneArticle__img\" src=${post.url} alt=\"\" />\n//         <div class=\"article__text\">\n//         <p>${post.article}\n//          </p>\n//         </div>\n//       </div>`\n//     : `<img class=\"oneArticle__img\" src=\"https://lh3.googleusercontent.com/pw/ADCreHcClQVGI7nNzHleVGwCxYCt6wYC0tfD-OVcW0nzAFCaQG92vYts_uFpHNDZ1XduZJ_TXKumBRMMPTBhuU6sTp58lUXnlU84gS_mL8r8vfixh38htNbn=w2400\" alt=\"\" />\n//     <div class=\"article__text\">\n//         <p>UPS.... somthing is wrong (</p>\n//         <p>Perhaps my limits</p>\n//         </div>`;\n\n//   oneArticle.innerHTML = basicMarkup;\n//   if (post.comments) {\n//     const commentsQuantityMarkup = `<div class=\"comments-quantity-style\"><p class=\"text-dashed \"\n//           ><span class=\"comments-quantity\">${post.comments.length}</span>&nbsp;comments:</p></div>`;\n//     oneArticleComments.innerHTML = commentsQuantityMarkup;\n//     const commentsListMarkup = post.comments.map(\n//       comment => `<li class=\"comments-item\">\n// <p class=\"comments-author\">${comment.author}</p>\n// <p class=\"comments-date\">${comment.date}</p>\n// <div class=\"comments-text\"><p>${comment.text}</p></div>\n//         </li> `\n//     );\n//     commentsList.innerHTML = commentsListMarkup;\n//   }\n// }\n//---------------------------------------\nfunction oneArticlePageOperation() {\n  const postId = getParameterByName('post');\n\n  // fetchArticle(postId);вернуть для ФЕТЧ!!!!\n  articleMarkup(article_1); //убрать для фетча? или убрать с fetchArticle и сделать два aweit\n}\nfunction getParameterByName(name, url) {\n  if (!url) url = window.location.href;\n\n  //   name = name.replace(/[[\\]]/g, '\\\\$&');\n\n  const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n    results = regex.exec(url);\n\n  if (!results) return null;\n  if (!results[2]) return '';\n\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\nasync function fetchData(postId) {\n  const response = await axios(`${BASEURL}/${postId}`);\n\n  return response;\n}\nfunction fetchArticle(postId) {\n  fetchData(postId)\n    .then(response => {\n      articleMarkup(response.data);\n    })\n    .catch(error => {\n      articleMarkup(undefined);\n      console.log(error);\n    });\n}\nfunction articleMarkup(post) {\n  const basicMarkup = post\n    ? `<h1 class=\"article__title\">${post.title}</h1>\n  <p class=\"article__date\">${post.date}</p>\n  <div class=\"article__internal\">\n   <img class=\"oneArticle__img\" src=${post.url} alt=\"\" />\n        <div class=\"oneArticle__text\">\n        <p>${post.article}\n         </p>\n        </div>\n      </div>`\n    : `<img class=\"oneArticle__img\" src=\"https://lh3.googleusercontent.com/pw/ADCreHcClQVGI7nNzHleVGwCxYCt6wYC0tfD-OVcW0nzAFCaQG92vYts_uFpHNDZ1XduZJ_TXKumBRMMPTBhuU6sTp58lUXnlU84gS_mL8r8vfixh38htNbn=w2400\" alt=\"\" />\n    <div class=\"article__text\">\n        <p>UPS.... somthing is wrong (</p>\n        <p>Perhaps my limits</p>\n        </div>`;\n\n  oneArticle.innerHTML = basicMarkup;\n  if (post.comments) {\n    const commentsQuantityMarkup = `<div class=\"comments-quantity-style\"><p class=\"text-dashed \"\n          ><span class=\"comments-quantity\">${post.comments.length}</span>&nbsp;comments:</p></div>`;\n    commentsQuantity.innerHTML = commentsQuantityMarkup;\n\n    const commentsListMarkup = post.comments\n      .map(\n        comment =>\n          `<li class=\"comments-item\">\n<p class=\"comments-author\">${comment.author}</p>\n<p class=\"comments-date\">${comment.date}</p>\n<div class=\"comments-text\"><p>${comment.text}</p></div>\n        </li> `\n      )\n      .join('');\n\n    commentsList.innerHTML = commentsListMarkup;\n  }\n}\noneArticlePageOperation();\n"],"names":["parcelRequire","$59a08c282216ed26$var$oneArticle","document","querySelector","$59a08c282216ed26$var$commentsQuantity","$59a08c282216ed26$var$commentsList","$59a08c282216ed26$var$articleMarkup","post","basicMarkup","concat","title","date","url","article","innerHTML","comments","commentsQuantityMarkup","length","commentsListMarkup","map","comment","author","text","join","name","window","location","href","results","RegExp","exec","decodeURIComponent","replace","$59a08c282216ed26$var$getParameterByName","$fMuQU","article_1"],"version":3,"file":"article-page.1f4ca851.js.map"}